\pdfoutput=1
\documentclass[preview]{standalone}

\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[T1]{fontenc}

\usepackage{verbatim}
\usepackage{graphicx}
	\DeclareGraphicsRule{*}{mps}{*}{}
\usepackage{xcolor}

\usepackage{tikz}
	\usetikzlibrary{calc}
	\usetikzlibrary{arrows}
	\usetikzlibrary{backgrounds}
	\usetikzlibrary{decorations.pathmorphing}
	\usetikzlibrary{shapes.geometric}
	\tikzset{>=latex'}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{dsfont}
\usepackage{nicefrac}
\usepackage{mathrsfs}
\usepackage[Euler]{upgreek}
\usepackage[nointegrals]{wasysym}
\usepackage{booktabs}
\usepackage{float}

\begin{document}

\centering

\begin{tikzpicture}[font=\sffamily]
	\node[draw,inner sep=5mm] (alumne) at (0,0) {alumne};
	\node[draw,inner sep=5mm] (materia) at (5,0) {materia};
	\node[draw,shape aspect=2,diamond,inner sep=0.5mm] (cursa) at (2.5,0) {\scriptsize \textcolor{red}{cursa en}};
	\draw (alumne) -- node[above]{M} node{\scriptsize 0} (cursa) -- node[above]{N} node{\scriptsize 0} (materia);
	\node[draw,rounded corners=2.5mm,minimum height=6.25mm] (legajo) at (-1.5,-1.7) {$\underline{\text{legajo}}$};
	\node[draw,rounded corners=2.5mm,minimum height=6.25mm] (nombre) at (0,-1.7) {nombre};
	\node[draw,rounded corners=2.5mm,minimum height=6.25mm] (apellido) at (1.5,-1.7) {apellido};
	\draw (alumne)--(legajo);
	\draw (alumne)--(nombre);
	\draw (alumne)--(apellido);
	\node[draw,rounded corners=2.5mm,minimum height=6.25mm] (cod) at (4,-1.7) {$\underline{\text{código}}$};
	\node[draw,rounded corners=2.5mm,minimum height=6.25mm] (nombre mat) at (6,-1.7) {nombre};
	\draw (materia)--(cod);
	\draw (materia)--(nombre mat);
	\node[draw,rounded corners=2.5mm] (semestre) at (2.5, -0.85) {$\underline{\text{semestre}}$};
	\draw (cursa)--(semestre);
	\node (cursada) at (2.5,-3.0) {\textcolor{red}{cursada}(legajo, código\_materia, semestre)};
	\draw (0.65,-3.20)--(5.47,-3.20);
	\draw[blue] (0.65,-3.30)--(1.47,-3.30);
	\draw[blue] (0.65,-3.35)--(1.47,-3.35);
	\draw[green] (1.71,-3.30)--(3.98,-3.30);
	\draw[green] (1.71,-3.35)--(3.98,-3.35);
\end{tikzpicture}

\vskip 12pt

\sffamily
alumne(\textcolor{blue}{\underline{legajo}}, nombre, apellido) \quad materia(\textcolor{green}{\underline{código}}, nombre)\\

\end{document}
